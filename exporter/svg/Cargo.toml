[package]
name = "typst-ts-svg-exporter"
description = "Export a frame of Typst document into svg element."
version.workspace = true
license.workspace = true
edition.workspace = true
homepage.workspace = true
repository.workspace = true

[dependencies]

typst.workspace = true
comemo.workspace = true

tiny-skia.workspace = true
base64.workspace = true

typst-ts-core.workspace = true
log.workspace = true

wasm-bindgen = { workspace = true, optional = true }
js-sys = { workspace = true, optional = true }
web-sys = { workspace = true, features = [
    "console",
    "CanvasRenderingContext2d",
    "Path2d",
    "Blob",
    "ImageData",
    "HtmlImageElement",
    "HtmlElement",
    "Url",
    "BlobPropertyBag",
    "DomParser",
    "SupportedType",
    "HtmlCollection",
], optional = true }
async-trait = "0.1.68"

[features]
rkyv = ["typst-ts-core/rkyv"]
flat-vector = ["rkyv", "typst-ts-core/flat-vector"]
default = ["flat-vector", "canvas"]
canvas = ["flat-vector", "dep:wasm-bindgen", "dep:js-sys", "dep:web-sys"]
