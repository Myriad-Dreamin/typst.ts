[package]
name = "typst-ts-cli"
version = "0.1.6"
license = "Apache-2.0"
edition = "2021"
description = "Command line tool for Typst.ts."
repository = "https://github.com/Myriad-Dreamin/typst.ts"

[dependencies]
typst = "0.3.0"
typst-library = "0.3.0"

typst-ts-core = "0.1.6"
typst-ts-compiler = "0.1.6"

typst-ts-pdf-exporter = { version = "0.1", optional = true }
typst-ts-raster-exporter = { version = "0.1", optional = true }
typst-ts-serde-exporter = { version = "0.1", optional = true }
typst-ts-tir-exporter = { version = "0.1", optional = true }
typst-ts-ws-exporter = { version = "0.1", optional = true }

codespan-reporting = "0.11"

clap = { version = "4.2", features = ["derive", "env", "unicode", "wrap_help"] }
clap_complete = "4.2"
clap_complete_fig = "4.2"

comemo = "0.2.2"
chrono = { version = "0.4", default-features = false, features = [
  "clock",
  "std",
] }
notify = "5"
tokio = {version = "1.27.0", features = ["full"]}

env_logger = "0.10.0"
log = "0.4.17"

[features]
pdf = ["typst-ts-pdf-exporter"]
raster = ["typst-ts-raster-exporter"]
serde-json = ["typst-ts-serde-exporter", "typst-ts-serde-exporter/json"]
serde-rmp = ["typst-ts-serde-exporter", "typst-ts-serde-exporter/rmp"]
tir = ["typst-ts-tir-exporter"]
web-socket = ["typst-ts-ws-exporter"]
default = ["pdf", "raster", "serde-json", "serde-rmp", "tir", "web-socket"]
